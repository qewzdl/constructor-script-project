<!DOCTYPE html>
{{- $lang := or .Language "en" -}}
<html lang="{{ $lang }}" data-theme="light">
    {{ template "components/document-head" (dict "Context" . "Lang" $lang) }}

    <body
        class="layout"
        data-authenticated="{{ if .IsAuthenticated }}true{{ else }}false{{ end }}"
        {{ with .CurrentUser }}data-user-role="{{ .Role }}" data-user-id="{{ .ID }}"{{ end }}
    >
        {{ $ads := .Advertising }}
        {{ if not .HideChrome }}
        {{ template "components/header" . }}
        {{ end }}

        <main id="main-content" class="main" role="main">{{ .Content }}</main>

        {{ if not .HideChrome }}
        {{ template "components/footer" . }}
        {{ end }}

        {{ template "components/post-image-modal" . }}
        {{ template "components/course-modal" . }}

        <script src="{{ asset "/static/js/theme.js" }}" defer></script>
        <script src="{{ asset "/static/js/header.js" }}" defer></script>
        <script src="{{ asset "/static/js/auth.js" }}" defer></script>
        <script src="{{ asset "/static/js/comments.js" }}" defer></script>
        <script src="{{ asset "/static/js/post-card.js" }}" defer></script>
        {{ if .Scripts }} {{ range .Scripts }}
        <script src="{{ asset . }}" defer></script>
        {{ end }} {{ end }}
        {{ if and $ads ( $ads.Enabled ) }}
        {{ range index $ads.Placements "layout_bottom" }}
        {{ . }}
        {{ end }}
        {{ end }}
    </body>
</html>
