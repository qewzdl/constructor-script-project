{{ $title := "Latest Posts" }}
{{ if .Page }}
    {{ if .Page.Title }}
        {{ $title = .Page.Title }}
    {{ end }}
{{ end }}
{{ $showHeader := true }}
{{ if .Page }}
    {{ if .Page.HideHeader }}
        {{ $showHeader = false }}
    {{ end }}
{{ end }}
<section class="blog" {{ if $showHeader }}aria-labelledby="blog-title"{{ else }}aria-label="{{ $title }}"{{ end }}>
    {{ if $showHeader }}
    <header class="blog__header">
        <h1 id="blog-title" class="blog__title">
            {{ $title }}
        </h1>
        {{ if and .Page .Page.Description }}
        <p class="blog__description">{{ .Page.Description }}</p>
        {{ end }}
    </header>
    {{ end }}

    {{ if .Content }}
    <div class="blog__intro">
        {{ .Content }}
    </div>
    {{ end }}

    {{ with .Categories }}
    <nav class="blog__categories" aria-label="Browse by category">
        <ul class="category-list">
            {{ range . }}
            <li class="category-list__item">
                <a href="/category/{{ .Slug }}" class="category-list__link">
                    {{ if .Name }}
                        {{ .Name }}
                    {{ else }}
                        {{ .Slug }}
                    {{ end }}
                </a>
            </li>
            {{ end }}
        </ul>
    </nav>
    {{ end }}

    {{ with .Tags }}
    <nav class="blog__tags" aria-label="Browse by tag">
        <ul class="tag-list">
            {{ range . }}
            <li class="tag-list__item">
                <a href="/tag/{{ .Slug }}" class="tag-list__link">#{{ .Name }}</a>
            </li>
            {{ end }}
        </ul>
    </nav>
    {{ end }}

    <div class="blog__posts">
        {{ if .Posts }}
        {{ range .Posts }}
        {{ template "components/post-card" (dict "Post" . "WrapperClass" "blog__post post-card") }}
        {{ end }}
        {{ else }}
        <p class="blog__empty">No posts available yet. Check back soon!</p>
        {{ end }}
    </div>

    {{ with .Pagination }}
        {{ template "components/pagination" . }}
    {{ end }}

    {{ if .Sections }}
    <div class="blog__sections">
        {{ .Sections }}
    </div>
    {{ end }}
</section>