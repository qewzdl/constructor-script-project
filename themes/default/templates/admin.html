{{- $endpoints := .AdminEndpoints -}}
<section
    class="admin"
    role="region"
    aria-labelledby="admin-title"
    data-page="admin"
    data-blog-enabled="{{ if .BlogEnabled }}true{{ else }}false{{ end }}"
    data-courses-enabled="{{ if .CoursesEnabled }}true{{ else }}false{{ end }}"
    data-language-feature-enabled="{{ if .LanguageFeatureEnabled }}true{{ else }}false{{ end }}"
    data-endpoint-stats="{{ index $endpoints "Stats" }}"
    {{- if .BlogEnabled }}
    data-endpoint-posts="{{ index $endpoints "Posts" }}"
    data-endpoint-categories="{{ index $endpoints "Categories" }}"
    data-endpoint-categories-index="{{ index $endpoints "CategoriesIndex" }}"
    data-endpoint-comments="{{ index $endpoints "Comments" }}"
    data-endpoint-tags="{{ index $endpoints "Tags" }}"
    data-endpoint-tags-admin="{{ index $endpoints "TagsAdmin" }}"
    {{- end }}
    data-endpoint-pages="{{ index $endpoints "Pages" }}"
    data-endpoint-site-settings="{{ index $endpoints "SiteSettings" }}"
    data-endpoint-homepage="{{ index $endpoints "Homepage" }}"
    data-endpoint-favicon-upload="{{ index $endpoints "FaviconUpload" }}"
    data-endpoint-logo-upload="{{ index $endpoints "LogoUpload" }}"
    data-endpoint-upload="{{ index $endpoints "Upload" }}"
    data-endpoint-upload-rename="{{ index $endpoints "UploadRename" }}"
    data-endpoint-uploads="{{ index $endpoints "Uploads" }}"
    data-endpoint-themes="{{ index $endpoints "Themes" }}"
    data-endpoint-plugins="{{ index $endpoints "Plugins" }}"
    data-endpoint-social-links="{{ index $endpoints "SocialLinks" }}"
    data-endpoint-fonts="{{ index $endpoints "Fonts" }}"
    data-endpoint-menu-items="{{ index $endpoints "MenuItems" }}"
    data-endpoint-users="{{ index $endpoints "Users" }}"
    data-endpoint-advertising-settings="{{ index $endpoints "Advertising" }}"
    data-endpoint-backup-export="{{ index $endpoints "BackupExport" }}"
    data-endpoint-backup-import="{{ index $endpoints "BackupImport" }}"
    data-endpoint-backup-settings="{{ index $endpoints "BackupSettings" }}"
    {{- with index $endpoints "CourseVideos" }}
    data-endpoint-courses-videos="{{ . }}"
    {{- end }}
    {{- with index $endpoints "CourseTopics" }}
    data-endpoint-courses-topics="{{ . }}"
    {{- end }}
    {{- with index $endpoints "CourseTests" }}
    data-endpoint-courses-tests="{{ . }}"
    {{- end }}
    {{- with index $endpoints "CoursePackages" }}
    data-endpoint-courses-packages="{{ . }}"
    {{- end }}
    data-current-user-id="{{ if .CurrentUser }}{{ .CurrentUser.ID }}{{ end }}"
>
    <script type="application/json" id="section-definitions-data">
        {{ .SectionDefinitionsJSON }}
    </script>
    <script type="application/json" id="element-definitions-data">
        {{ .ElementDefinitionsJSON }}
    </script>
    <aside class="admin__sidebar">
        <nav class="admin__navigation" aria-label="Admin sections">
            <div class="admin__navigation-card">
                <div class="admin__nav" data-role="admin-nav"></div>
            </div>
        </nav>
        <section class="admin__shortcuts" aria-labelledby="admin-shortcuts-title">
            <h2 id="admin-shortcuts-title" class="admin__shortcuts-title">Quick actions</h2>
            <p class="admin__shortcuts-description">
                Jump straight to creating content or updating key site settings.
            </p>
            <ul class="admin__shortcuts-list" data-role="admin-quick-actions"></ul>
        </section>
    </aside>

    <div class="admin__content">
        <header class="admin__header">
            <div class="admin__intro">
                <h1 id="admin-title" class="admin__title">Site administration</h1>
                <p class="admin__subtitle">
                    Manage the content library, curate static pages, organise categories and moderate
                    community feedback from a single dashboard.
                </p>
            </div>
            {{ if .CurrentUser }}
            <aside class="admin__profile" aria-label="Signed in administrator">
                <span class="admin__profile-label">Signed in as</span>
                <span class="admin__profile-name">{{ .CurrentUser.Username }}</span>
            </aside>
            {{ end }}
        </header>

        <div class="admin__alert" id="admin-alert" role="status" aria-live="assertive" hidden></div>

        <div class="admin__panels" data-role="panel-container"></div>
    </div>
</section>
